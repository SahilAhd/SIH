<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!--<link rel="stylesheet" href="./Profile.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"-->
    <style>
      * {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

.Container {
  display: flex;
  flex-direction: row;
  height: 100vh;
}

.sidebar {
  display: flex;
  flex-direction: column;
  width: 22%;
  border-right: 1px solid rgb(230, 228, 228);
}

.head-2 a.active {
  color: white;
  background-color: rgb(73, 151, 228);
}
.head {
  height: 40%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin-top: 15px;
}

.heading {
  font-family: "Courier New", Courier, monospace;
  font-size: 40px;
  text-align:end;
  position: relative;
  padding-top: 40px;
  padding-bottom: 15px;
}

.head-2 {
  display: flex;
  flex-direction: column;
  height: 22%;
}

.head-2 a {
  text-decoration: none;
  color: black;
}
.head-2 h3 {
  border: 1px solid rgb(230, 228, 228);
  display: flex;
  flex-direction: column;
  height: 86px;
  text-align: center;
  justify-content: center;
}

.main-content {
  width: 78%;
  padding: 50px;
}

.main-content h2 {
  font-family: Georgia, "Times New Roman", Times, serif;
  padding-bottom: 30px;
  font-weight: 600;
  font-size: 40px;
}
.flex-items {
  display: flex;
  flex-direction: row;
  padding: 10px;
  gap: 20px;
}

.flex-items-1 {
  width: 50%;
}

.flex-items-2 {
  width: 50%;
}

.flex-items h3 {
  font-size: large;
  font-weight: 300;
  padding-bottom: 6px;
}

.flex-items input {
  max-width: 650px;
  background-color: #f5f5f5;
  color: #242424;
  padding: 0.15rem 0.5rem;
  min-height: 40px;
  border-radius: 4px;
  outline: none;
  border: none;
  line-height: 1.15;
  box-shadow: 0px 10px 5px -18px;
  width: 480px;
  height: 40px;
  margin-bottom: 17px;
}

.bio {
  padding-left: 10px;
}

.bio h3 {
  font-size: large;
  font-weight: 300;
}

.bio input {
  /* max-width: 650px; */
  background-color: #f5f5f5;
  color: #242424;
  padding: 0.15rem 0.5rem;
  min-height: 40px;
  border-radius: 4px;
  outline: none;
  border: none;
  line-height: 1.15;
  box-shadow: 0px 10px 5px -18px;
  width: 990px;
  height: 80px;
  margin-top: 13px;
  margin-bottom: 20px;
}

.Buttons {
  margin-top: 20px;
  padding-left: 10px;
  
}

.Buttons button {
  width: 100px;
  height: 35px;
  text-align: center;
  border: none;
  font-family: Georgia, "Times New Roman", Times, serif;
font-weight: 600;
  margin-right: 7px;
  font-size: 16px;
}

.btn-update {
    background-color: rgb(73, 151, 228);
    color: white;
    cursor: pointer;
}

.btn-cancel {
    background-color: white;
    color: black;
    cursor: pointer;
}

body {
    background-color: #ffffff;
    color: #000000;
}

body {
    background-color: #000000;
    color: #ffffff;
}

body.light-theme {
            --background-color: #ffffff;
            --text-color: #000000;
        }
        
        body.dark-theme {
            --background-color: #000000;
            --text-color: #ffffff;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }
        
        .theme-toggle-button {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background-color: var(--text-color);
            color: var(--background-color);
            border-radius: 5px;
        }

    </style>
  </head>
  <body>
    <div class="Container">
      <div class="sidebar">
        <div class="head">
          <i class="fa-solid fa-circle-user fa-10x"></i>
          <h3 class="heading">LecturaX</h3>
        </div>
        <div class="head-2">
          <a href="Profile.html" id="account-link"><h3>Account</h3></a>
          <a href="Password.html" id="password-link"><h3>Password</h3></a>
          <a href="Dashboard.html" id="dashboard-link"><h3>Back To Dashboard</h3></a>
         
        </div>
      </div>
      <div class="main-content">
        
      <h2>Account Settings</h2>
      <div id="container">                           
      <div class="flex-items">
          <div class="flex-items-1">
            <h3>First Name</h3>
            <input id="firstname" type="text" name="first-name" />
            <h3>School</h3>
            <input id="school" type="text" name="School" />
            <h3>Phone No.</h3>
            <input id="phoneNumber" type="text" name="Phone-No" />
            <h3>Class and Section</h3>
            <input id="classsection" type="text" name="classsection" />
          </div>
          <div class="flex-items-2">
            <h3>Last Name</h3>
            <input id="lastname" type="text" name="Last Name" />
            <h3>Address</h3>
            <input id="address" type="text" name="Address" />
            <h3>Email</h3>
            <input id="email" type="text" name="Email" />
          </div>
        </div>
      </div>
        <div class="Buttons">
          <a href="#"><button type="Submit" id="update-btn" class="btn-update">
            Update
          </button></a>
          <a href="#"><button type="Submit" id="cancel-btn" class="btn-cancel">
            Cancel
          </button></a>
        </div>
      </div>
    </div>
   
    <!-- Your other HTML content -->
    <script>
      
      
      document.addEventListener("DOMContentLoaded", function () {
        const currentPage = window.location.href;

        if (currentPage.includes("Profile.html")) {
          document.getElementById("account-link").classList.add("active");
        } else if (currentPage.includes("Password.html")) {
          document.getElementById("password-link").classList.add("active");
        }
        else if (currentPage.includes("Dashboard.html")) {
          document.getElementById("dashboard-link").classList.add("active");
        }
        document
          .getElementById("cancel-btn")
          .addEventListener("click", function () {
            // Change the colors
            document.getElementById("update-btn").classList.remove("update");
            document.getElementById("update-btn").classList.add("cancel");
            document.getElementById("cancel-btn").classList.remove("cancel");
            document.getElementById("cancel-btn").classList.add("update");

            // Revert back after 1 second
            setTimeout(function () {
              document.getElementById("update-btn").classList.remove("cancel");
              document.getElementById("update-btn").classList.add("update");
              document.getElementById("cancel-btn").classList.remove("update");
              document.getElementById("cancel-btn").classList.add("cancel");
            }, 1000);
          });
      });
      //below backend

    document.getElementById('update-btn').addEventListener('click', (event) => {
        event.preventDefault();
        const data1 = {
            firstName: document.getElementById('firstname').value,
            lastName: document.getElementById('lastname').value,
            school: document.getElementById('school').value,
            phoneNumber: document.getElementById('phoneNumber').value, 
            classsection: document.getElementById('classsection').value,
            address: document.getElementById('address').value,
            email: document.getElementById('email').value
        };
        console.log('Sending form data:', data1);

        fetch('/profile-update', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data1)
        }).then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        }).then(data => {
            console.log('Information submitted successfully', data);
            // Clear input fields
            document.getElementById('firstname').value = '';
            document.getElementById('lastname').value = '';
            document.getElementById('school').value = '';
            document.getElementById('phoneNumber').value = '';
            document.getElementById('classsection').value = '';
            document.getElementById('address').value = '';
            document.getElementById('email').value = '';
            alert('Information Updated');
        }).catch(error => {
            console.error('Error in submitting the form', error);
            alert('Unexpected error occurred: ' + error.message);
        });
    });
    </script>
  </body>
</html>
